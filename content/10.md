#Python基础10 反过头来看看

从最初的“Hello World”，走到面向对象。该回过头来看看，教程中是否遗漏了什么。

我们之前提到一句话，"Everything is Object". 那么我们就深入体验一下这句话。

 

需要先要介绍两个内置函数，`dir()`和`help()`

`dir()`用来查询一个类或者对象所有属性。你可以尝试一下

```python
>>>print dir(list)
```

`help()`用来查询的说明文档。你可以尝试一下

```python
>>>print help(list)
```

(`list`是Python内置的一个类，对应于我们之前讲解过的列表)


##list是一个类

在上面以及看到，表是Python已经定义好的一个类。当我们新建一个表时，比如：

```python
>>>nl = [1,2,5,3,5]
```

实际上，`nl`是类`list`的一个对象。

实验一些`list`的方法：

```python
>>>print nl.count(5)       # 计数，看总共有多少个5
>>>print nl.index(3)       # 查询 nl 的第一个3的下标
>>>nl.append(6)            # 在 nl 的最后增添一个新元素6
>>>nl.sort()               # 对nl的元素排序
>>>print nl.pop()          # 从nl中去除最后一个元素，并将该元素返回。
>>>nl.remove(2)            # 从nl中去除第一个2
>>>nl.insert(0,9)          # 在下标为0的位置插入9
```
总之，`list`是一个类。每个列表都属于该类。

Python补充中有`list`常用方法的附录。

 

##运算符是特殊方法

使用`dir(list)`的时候，能看到一个属性，是`__add__()`。从形式上看是特殊方法（下划线，下划线）。它特殊在哪呢？

这个方法定义了`+`运算符对于`list`对象的意义，两个`list`的对象相加时，会进行的操作。

```python
>>>print [1,2,3] + [5,6,9]
```
 

运算符，比如`+`, `-`, `>`, `<`, 以及下标引用`[start:end]`等等，从根本上都是定义在类内部的方法。

 

尝试一下
```python
>>>print [1,2,3] - [3,4]
```

会有错误信息，说明该运算符`-`没有定义。现在我们继承`list`类，添加对`-`的定义

```python
class superList(list):
    def __sub__(self, b):
        a = self[:]     # 这里，self是supeList的对象。由于superList继承于list，它可以利用和list[:]相同的引用方法来表示整个对象。
        b = b[:]        
        while len(b) > 0:
            element_b = b.pop()
            if element_b in a:
                a.remove(element_b)
        return a

print superList([1,2,3]) - superList([3,4])
```
内置函数`len()`用来返回`list`所包含的元素的总数。内置函数`__sub__()`定义了`-`的操作：从第一个表中去掉第二个表中出现的元素。如果`__sub__()`已经在父类中定义，你又在子类中定义了，那么子类的对象会参考子类的定义，而不会载入父类的定义。任何其他的属性也是这样。

（教程最后也会给出一个特殊方法的清单）

定义运算符对于复杂的对象非常有用。举例来说，人类有多个属性，比如姓名，年龄和身高。我们可以把人类的比较（`>`, `<`, `=`）定义成只看年龄。这样就可以根据自己的目的，将原本不存在的运算增加在对象上了。

##下一步

希望你已经对Python有了一个基本了解。你可能跃跃欲试，要写一些程序练习一下。这会对你很有好处。

但是，Python的强大很大一部分原因在于，它提供有很多已经写好的，可以现成用的对象。我们已经看到了内置的比如说`list`，还有`tuple`等等。它们用起来很方便。在Python的标准库里，还有大量可以用于操作系统互动，Internet开发，多线程，文本处理的对象。而在所有的这些的这些的基础上，又有很多外部的库包，定义了更丰富的对象，比如`numpy`, `tkinter`, `django`等用于科学计算，GUI开发，web开发的库，定义了各种各样的对象。对于一般用户来说，使用这些库，要比自己去从头开始容易得多。我们要开始攀登巨人的肩膀了。

谢谢你的关注，

欢迎来到Python的世界。

 

##总结

`len()` `dir()` `help()`

数据结构`list`(列表)是一个类。

运算符是方法
